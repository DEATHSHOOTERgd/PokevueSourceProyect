(()=>{window.addEventListener("load",(()=>{Vue.createApp({data:()=>({pokemons:[],range:8,currentPage:0,coloresDeTipo:t,pokemonId:-1,pokemon:null,comment:{content:"",id:-1},editing:!1,pokemonName:"",searchStatus:"",operation:"Add",comments:[]}),methods:{listPokemons:async function(){const t=await fetch(`https://pokeapi.co/api/v2/pokemon/?limit=${this.range}&offset=${this.currentPage*this.range}`),e=Object.values(await t.json())[3];await this.fetchPokemons(e)},fetchPokemons:async function(t){let e=Array();for(let o=0;o<t.length;o++){let n=await fetch(t[o].url);e.push(await n.json())}this.pokemons=e},nextPage:function(){this.currentPage++,this.listPokemons()},lastPage:function(){this.currentPage>0&&(this.currentPage--,this.listPokemons())},searchPokemonByName:function(t){t.preventDefault(),this.editing=!1,this.pokemon=null,this.searchStatus="searching",this.fetchPokemon(this.pokemonName.toLowerCase())},fetchPokemon:async function(t){let e=null;this.comment.content="";const o=await fetch(`https://pokeapi.co/api/v2/pokemon/${t}`);404===o.status?this.searchStatus="not found":200===o.status&&(this.searchStatus="found",e=await o.json()),this.pokemon=e,""==this.comment.content&&(this.comment.content="There is not comment yet. \nClick here to add a comment"),this.loadComment()},searchPokemon:function(t){this.pokemon=null,this.pokemonName="",this.fetchPokemon(t)},setSelectedPokemon:function(){this.pokemon=this.searchPokemon(this.pokemonId)},getSprite:function(){return this.pokemon&&this.pokemon.sprites.other.home.front_default?this.pokemon.sprites.other.home.front_default:""==this.searchStatus?"assets/icons/pokedex-default.png":"assets/icons/not-found-image.png"},getSpriteC:function(t){return t||"assets/icons/not-found-image.png"},getColor:function(){return this.pokemon?t.get(this.pokemon.types[0].type.name):"white"},resetPokedex:function(){this.pokemon=null,this.pokemonName="",this.searchStatus="",this.editing=!1},updateLocalStorage:function(){localStorage.setItem("pokevue.comments",JSON.stringify(this.comments))},addComment:function(){this.comment.id=this.pokemon.id,this.comments.push(this.comment),this.updateLocalStorage(),this.loadComments()},updateComment:function(){for(let t=0;t<this.comments.length;t++)this.comments[t].id==this.pokemon.id&&(this.comments[t].content=this.comment.content);this.updateLocalStorage()},performCommentOp:function(t){t.preventDefault(),"Add"==this.operation&&""!=this.comment.content?this.addComment():"Update"==this.operation&&this.updateComment(),this.loadComment(),this.editing=!1},loadComment:function(){for(let t=0;t<this.comments.length;t++)if(this.comments[t].id==this.pokemon.id)return this.comment.content=this.comments[t].content,void(this.operation="Update");this.operation="Add"},loadComments:function(){this.comments=JSON.parse(localStorage.getItem("pokevue.comments"))},editComment:function(){"There is not comment yet. \nClick here to add a comment"==this.comment.content&&(this.comment.content=""),this.editing=!0}},created(){this.listPokemons(),localStorage.getItem("pokevue.comments")&&this.loadComments()}}).mount("#pokevue")}));var t=new Map;t.set("normal","#d9af71"),t.set("fighting","#732834"),t.set("flying","#1f85bf"),t.set("poison","#5b0e63"),t.set("ground","#703603"),t.set("rock","#6e6c6b"),t.set("bug","#8c9c3e"),t.set("ghost","#c997f0"),t.set("steel","#544e46"),t.set("fire","#ed480c"),t.set("water","#149fdb"),t.set("grass","#21b51f"),t.set("electric","#f0c802"),t.set("psychic","#8c7320"),t.set("ice","#07faee"),t.set("dragon","#d91cc6"),t.set("dark","#1e1d26"),t.set("fairy","#88f7ec"),t.set("unknown","#f5f4f2"),t.set("shadow","#3b1752")})();